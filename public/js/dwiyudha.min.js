!function(){var a=(new Swiper(".swiper-container",{direction:"horizontal",loop:!1,pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",noSwipingClass:"map"}),[{id:"sakramen",start:"2016-07-13T09:00:00+07:00",end:"2016-07-13T11:00:00+07:00",icon:"ico_church_red.png",coords:{lat:-7.757304,lng:110.210794},title:"Sakramen Pernikahan",locationName:"Gereja Katolik St. Maria Tak Bernoda, Karang, Jatisarono, Nanggulan, Kulon Progo",zoom:18},{id:"syukuran",start:"2016-07-13T12:00:00+07:00",end:"2016-07-13T14:00:00+07:00",icon:"ico_home_red.png",coords:{lat:-7.748422,lng:110.183863},title:"Syukuran",locationName:"Rumah Bpk Minarjo, Turusan RT 45/RW 21, Pendoworejo, Girimulyo",zoom:16}]);$.when($.getScript("https://www.google.com/jsapi"),$.Deferred(function(a){$(a.resolve)})).done(function(){google.load("maps","3",{callback:function(){var b,c,d,e,f,g,h,i,j=new google.maps.DirectionsRenderer,k=new google.maps.DirectionsService,l="sakramen";b=function(a){navigator.geolocation.getCurrentPosition(function(b){var d=b.coords.latitude,e=b.coords.longitude;i=new google.maps.Marker({icon:{path:"M-5,0a5,5 0 1,0 10,0a5,5 0 1,0 -10,0",fillColor:"#8e44ad",fillOpacity:1,strokeWeight:0},map:c,position:{lat:d,lng:e}}),j.setMap(c),j.setOptions({suppressMarkers:!0}),k.route({origin:{lat:d,lng:e},destination:a.coords,travelMode:google.maps.TravelMode.DRIVING},function(a,b){b===google.maps.DirectionsStatus.OK?j.setDirections(a):window.alert("Permohonan arah gagal. Alasan: "+b)})})},h=function(a){var b=new Date(a.start),c=b.getHours()<10?"0"+b.getHours():b.getHours(),d=b.getMinutes()<10?"0"+b.getMinutes():b.getMinutes(),e=c+":"+d;$(".txt-emphasize").text(e+" WIB "),$(".txt-title").text(a.title),$(".txt-location-name").text(a.locationName)},$.each(a,function(){this.id===l&&(d=this)}),e={center:d.coords,mapTypeControl:!1,rotateControl:!1,scaleControl:!1,scrollwheel:!1,streetViewControl:!1,zoom:d.zoom,zoomControl:!1},c=new google.maps.Map(document.getElementById("map"),e),g=new google.maps.Marker({icon:"../img/"+d.icon,map:c,position:d.coords,title:d.locationName}),f=new google.maps.InfoWindow({content:'<a href="https://maps.google.com/?q='+d.coords.lat+","+d.coords.lng+'" target="_blank">Buka di peta Google</a>'}),f.open(c,g),h(d),navigator.geolocation&&b(d),$(".map-selection").each(function(){$(this).on("click",function(e){e.preventDefault();var k=$(this);$(".map-selection").each(function(e){k.data("id")===$(this).data("id")?(f.close(),$(this).addClass("secondary"),d=a[e],c.setOptions({center:d.coords,zoom:d.zoom}),g.setOptions({icon:"../img/"+d.icon,position:d.coords,title:d.locationName}),i.getVisible()&&(i.setMap(null),i=null,j.setMap(null)),f.open(c,g),f.setContent('<a href="https://maps.google.com/?q='+d.coords.lat+","+d.coords.lng+'" target="_blank">Buka di peta Google</a>'),h(d),b(d)):$(this).removeClass("secondary")})})}),$("#refresh").on("click",function(){i.getVisible()&&(i.setMap(null),i=null,j.setMap(null)),b(d)})},other_params:"libraries=geometry&key=AIzaSyAFFk-GUknDy4bz4IwyqAziT7zZRPNFNiU&language=id&region=ID"}),console.info("Church icon made by http://www.flaticon.com/authors/simpleicon and home icon made by http://www.freepik.com from http://www.flaticon.com are licensed by CC 3.0 BY")}).fail(function(){console.log(arguments[2].toString())})}();